<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Ù…Ù†ØµØ© Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø°ÙƒÙŠ</title>

<style>
:root {
  --primary:#2563eb;
  --dark:#0f172a;
  --light:#f8fafc;
  --danger:#dc2626;
  --success:#16a34a;
}

* { box-sizing:border-box; font-family: "Cairo", sans-serif; }

body {
  margin:0;
  background:linear-gradient(135deg,#0f172a,#020617);
  color:white;
  min-height:100vh;
}

header {
  padding:30px;
  text-align:center;
}

header h1 {
  margin:0;
  font-size:32px;
}

header p {
  opacity:.8;
  margin-top:8px;
}

.container {
  max-width:1100px;
  margin:auto;
  padding:20px;
}

.skills {
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
  gap:15px;
  margin-bottom:30px;
}

.skill {
  background:#020617;
  border:1px solid #1e293b;
  padding:20px;
  border-radius:14px;
  cursor:pointer;
  transition:.3s;
  text-align:center;
}

.skill:hover {
  transform:translateY(-5px);
  border-color:var(--primary);
}

.skill.active {
  background:var(--primary);
}

.panel {
  background:#020617;
  border:1px solid #1e293b;
  border-radius:16px;
  padding:25px;
  margin-bottom:25px;
  animation:fade .5s;
}

@keyframes fade {
  from {opacity:0; transform:translateY(10px)}
  to {opacity:1}
}

textarea {
  width:100%;
  min-height:180px;
  background:#020617;
  border:1px solid #1e293b;
  color:white;
  border-radius:12px;
  padding:15px;
  font-size:15px;
  resize:vertical;
}

button {
  background:var(--primary);
  border:none;
  color:white;
  padding:14px 22px;
  border-radius:12px;
  cursor:pointer;
  font-size:16px;
  transition:.3s;
}

button:hover {
  opacity:.9;
}

.loading {
  text-align:center;
  opacity:.8;
}

.result {
  line-height:1.9;
}

.score {
  font-size:28px;
  font-weight:bold;
  margin-bottom:10px;
}
</style>
</head>

<body>

<header>
  <h1>Ù…Ù†ØµØ© Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø°ÙƒÙŠ</h1>
  <p>ØªÙ…Ø§Ø±ÙŠÙ† ÙˆØ§Ù‚Ø¹ÙŠØ©. ØªÙ‚ÙŠÙŠÙ… ØµØ±ÙŠØ­. Ø¨Ø¯ÙˆÙ† Ù…Ø¬Ø§Ù…Ù„Ø§Øª.</p>
</header>

<div class="container">

  <div class="skills">
    <div class="skill" data-skill="Ø§Ù„ØªÙˆØ§ØµÙ„">Ø§Ù„ØªÙˆØ§ØµÙ„</div>
    <div class="skill" data-skill="Ø§Ù„Ù„ØºØ© Ø§Ù„Ø£Ø¬Ù†Ø¨ÙŠØ©">Ø§Ù„Ù„ØºØ© Ø§Ù„Ø£Ø¬Ù†Ø¨ÙŠØ©</div>
    <div class="skill" data-skill="Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙˆÙ‚Øª">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙˆÙ‚Øª</div>
    <div class="skill" data-skill="Ù†Ù‚Ø§Ø· Ø§Ù„Ù‚ÙˆØ© ÙˆØ§Ù„Ø¶Ø¹Ù">Ù†Ù‚Ø§Ø· Ø§Ù„Ù‚ÙˆØ© ÙˆØ§Ù„Ø¶Ø¹Ù</div>
    <div class="skill" data-skill="Ø§Ù„ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ÙŠØ©">Ø§Ù„ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ÙŠØ©</div>
  </div>

  <div class="panel" id="challenge">
    Ø§Ø®ØªØ± Ù…Ù‡Ø§Ø±Ø© Ù„Ø¨Ø¯Ø¡ Ø§Ù„ØªØ­Ø¯ÙŠ.
  </div>

  <div class="panel">
    <textarea id="answer" placeholder="Ø§ÙƒØªØ¨ Ø¥Ø¬Ø§Ø¨ØªÙƒ Ù‡Ù†Ø§ Ø¨ÙˆØ¶ÙˆØ­..."></textarea>
    <br><br>
    <button onclick="evaluate()">Ø¥Ø±Ø³Ø§Ù„ Ù„Ù„ØªÙ‚ÙŠÙŠÙ…</button>
  </div>

  <div class="panel" id="output"></div>

</div>

<script>
// ğŸ”‘ Ø¶Ø¹ Ù…ÙØªØ§Ø­Ùƒ Ù‡Ù†Ø§ (Ù…Ø±Ø¦ÙŠ ÙƒÙ…Ø§ Ø·Ù„Ø¨Øª)
const API_KEY = "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";

// Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ â€” Ø¹Ø¯Ù‘Ù„ endpoint Ø­Ø³Ø¨ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø°ÙŠ ØªØ³ØªØ®Ø¯Ù…Ù‡
const API_URL = "https://api.openai.com/v1/chat/completions";

let currentSkill = "";
let currentScenario = "";

document.querySelectorAll(".skill").forEach(el=>{
  el.onclick = async ()=>{
    document.querySelectorAll(".skill").forEach(s=>s.classList.remove("active"));
    el.classList.add("active");
    currentSkill = el.dataset.skill;
    await generateScenario();
  };
});

async function generateScenario() {
  document.getElementById("challenge").innerHTML = "<div class='loading'>ÙŠØªÙ… ØªÙˆÙ„ÙŠØ¯ Ø§Ù„ØªØ­Ø¯ÙŠ...</div>";

  const prompt = `
Ø£Ù†Øª Ù†Ø¸Ø§Ù… ØªØ¯Ø±ÙŠØ¨ Ø­ÙŠØ§Ø¯ÙŠ ØµØ§Ø±Ù….
Ø£Ù†Ø´Ø¦ Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ Ø£Ùˆ ØªØ­Ø¯ÙŠ ÙˆØ§Ù‚Ø¹ÙŠ ÙÙŠ Ù…Ù‡Ø§Ø±Ø©: ${currentSkill}.
Ø§Ù„Ø·ÙˆÙ„ Ù…ØªØºÙŠØ± (Ù…Ù† 200 Ø¥Ù„Ù‰ 1000 ÙƒÙ„Ù…Ø©).
Ø¨Ø¯ÙˆÙ† Ø£ÙŠ Ù…Ø¬Ø§Ù…Ù„Ø§Øª Ø£Ùˆ ØªØ¨Ø³ÙŠØ·.
`;

  const res = await fetch(API_URL,{
    method:"POST",
    headers:{
      "Authorization":"Bearer "+API_KEY,
      "Content-Type":"application/json"
    },
    body:JSON.stringify({
      model:"gpt-4o-mini",
      messages:[{role:"user",content:prompt}]
    })
  });

  const data = await res.json();
  currentScenario = data.choices[0].message.content;
  document.getElementById("challenge").innerText = currentScenario;
}

async function evaluate() {
  const userAnswer = document.getElementById("answer").value.trim();
  if(!userAnswer || !currentScenario) return alert("Ø£ÙƒÙ…Ù„ Ø§Ù„ØªØ­Ø¯ÙŠ Ø£ÙˆÙ„Ø§Ù‹.");

  document.getElementById("output").innerHTML = "<div class='loading'>ÙŠØªÙ… Ø§Ù„ØªÙ‚ÙŠÙŠÙ…...</div>";

  const prompt = `
Ù‚ÙŠÙ‘Ù… Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØªØ§Ù„ÙŠØ© Ø¨ØµØ±Ø§Ù…Ø© Ø­ÙŠØ§Ø¯ÙŠØ© ØªØ§Ù…Ø©.

Ø§Ù„Ù…Ù‡Ø§Ø±Ø©: ${currentSkill}
Ø§Ù„Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ:
${currentScenario}

Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:
${userAnswer}

Ø£Ø¹Ø¯:
- Ø¯Ø±Ø¬Ø© Ù…Ù† 100
- ØªØ­Ù„ÙŠÙ„ Ù†Ù‚Ø§Ø· Ø§Ù„Ù‚ÙˆØ©
- ØªØ­Ù„ÙŠÙ„ Ù†Ù‚Ø§Ø· Ø§Ù„Ø¶Ø¹Ù
- ØªÙˆØµÙŠØ§Øª Ø¹Ù…Ù„ÙŠØ©
Ø¨Ø¯Ù‚Ø© ÙˆÙˆØ¶ÙˆØ­.
`;

  const res = await fetch(API_URL,{
    method:"POST",
    headers:{
      "Authorization":"Bearer "+API_KEY,
      "Content-Type":"application/json"
    },
    body:JSON.stringify({
      model:"gpt-4o-mini",
      messages:[{role:"user",content:prompt}]
    })
  });

  const data = await res.json();
  document.getElementById("output").innerHTML = `
    <div class="result">
      <div class="score">Ø§Ù„Ù†ØªÙŠØ¬Ø©</div>
      ${data.choices[0].message.content.replace(/\n/g,"<br>")}
    </div>
  `;
}
</script>

</body>
</html>
